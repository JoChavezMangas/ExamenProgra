"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[3849],{43849:function(e,r,n){n.r(r),n.d(r,{default:function(){return ie}});var a=n(29439),o=n(6907),i=n(72791),t=n(20803),l=n(88375),d=n(90166),s=n(96015),c=n(38072),u=n(73379),m=n(48928),h=n(69963),x=n(74142),f=n(94928),p=n(33805),b=n(84954),j=n(74165),Z=n(15861),v=n(61091),w=n(58195),g=n(40464),C=n(8440),P=n(45953),N=n(13609),S=n(43671),E=n(91267),y=n(77248),F=n(52007),D=n.n(F),A=n(61134),k=n(5097),I=n(23943),R=n(40268),W=n(80362),H=n(5406),T=n(80184);function _(e){var r=e.empleadoId,n=(0,i.useState)(!1),o=(0,a.Z)(n,2),t=o[0],l=o[1],d=function(){l(!1)},s=(0,A.cI)({}),c=s.handleSubmit,u=function(){var e=(0,Z.Z)((0,j.Z)().mark((function e(n){var a;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(a=new FormData).append("EmpleadoSolicitante",r),a.append("comentario",n.texto),(0,H.A4)(a,p.D9,(function(){}),(function(){}))}catch(o){console.error(o)}case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),m=(0,i.useState)([["nombre","comentario","fecha"]]),h=(0,a.Z)(m,2),x=h[0],f=h[1];return i.useEffect((function(){(0,H._P)(p.qN,r,f)}),[r]),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(v.Z,{color:"warning",onClick:function(e){l(!0)},children:[(0,T.jsx)(R.Z,{icon:"ic:round-keyboard-double-arrow-right"}),"Adelantar Per\xedodo"]}),(0,T.jsxs)(w.Z,{open:t,onClose:d,maxWidth:"sm",fullWidth:!0,children:[(0,T.jsx)(g.Z,{variant:"h5",color:"primary",children:"Detalles de petici\xf3n"}),(0,T.jsxs)(W.ZP,{methods:s,onSubmit:c(u),children:[(0,T.jsxs)(C.Z,{children:[(0,T.jsx)("div",{children:"Empleado"}),(0,T.jsx)("br",{}),(0,T.jsx)("div",{children:(0,T.jsx)(P.ZP,{container:!0,spacing:3,children:(0,T.jsx)(P.ZP,{item:!0,xs:12,md:12,children:(0,T.jsx)(I.Z,{endPointURL:p.aH,nameAUX:"tipoRegimen",label:"Per\xedodo a adelantar",placeholder:"Per\xedodo a adelantar",valorFiltro:r})})})}),(0,T.jsx)("br",{}),(0,T.jsxs)(N.Z,{sx:{border:"1px solid #919EAB",background:"rgba(243, 246, 249, 0.4)",borderRadius:"8px"},children:[(0,T.jsx)(S.Z,{expandIcon:(0,T.jsx)(k.Aj,{}),"aria-controls":"panel1a-content",children:"Historial de comentarios"}),(0,T.jsx)(E.Z,{children:x.map((function(e){return(0,T.jsx)(M,{Nombre:e[0],Comentario:e[1],Fecha:e[2]})}))})]}),(0,T.jsx)("br",{}),(0,T.jsx)(W.au,{name:"texto",id:"simple-editor",label:"Comentario",placeholder:"Ingresa tu comentario",multiline:!0,maxRows:4,fullWidth:!0})]}),(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(v.Z,{variant:"contained",color:"error",onClick:d,children:"Cancelar"}),(0,T.jsx)(v.Z,{type:"submit",variant:"contained",onClick:d,children:"Autorizar"})]})]})]})]})}function M(e){var r=e.Nombre,n=e.Comentario,a=e.Fecha;return(0,T.jsx)(P.ZP,{sx:{"font-size":"11px"},children:(0,T.jsxs)(P.ZP,{container:!0,spacing:3,children:[(0,T.jsxs)(P.ZP,{item:!0,xs:4,md:4,children:[(0,T.jsx)("div",{children:r}),(0,T.jsx)("div",{children:a})]}),(0,T.jsx)(P.ZP,{item:!0,xs:8,md:8,children:n})]})})}function U(){var e=(0,i.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=r[1],t=[{field:"id",headerName:"Id",flex:1,editable:!1,hide:!0},{field:"empleadoSolicitanteNombre",width:250,headerName:"Solicitante",editable:!1},{field:"Periodo",width:200,headerName:"Per\xedodo a adelantar",editable:!1,renderCell:function(e){return function(e){var r="light"===(0,x.Z)().palette.mode;return(0,T.jsx)("div",{children:(0,T.jsx)(b.Z,{variant:r?"soft":"filled",color:"success",sx:{mx:"auto"},children:e})})}(e.row.periodo)}},{field:"comentario",width:250,headerName:"Comentarios",editable:!1},{field:"action",headerName:"Acciones",align:"center",width:180,sortable:!1,filterable:!1,disableColumnMenu:!0,renderCell:function(e){return(0,T.jsx)(_,{empleadoId:e.row.empleadoSolicitante,esResponsable:!0,refreshFunc:o})}}],l=localStorage.getItem("EmpleadoId");return(0,T.jsx)(m.Z,{children:(0,T.jsx)(h.Z,{sx:{marginTop:"0px",position:"relative",overflow:"unset"},style:{width:"100%"},children:(0,T.jsx)(f.Z,{EndPoint:p.CK,columns:t,refresh:n,genericParamAUX:l})})})}M.prototype={Nombre:D().string,Comentario:D().string,Fecha:D().string};var X=n(4565),q=n(98246),B=n(75193),z=n(18430);function V(){var e=(0,i.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=r[1],l="RecursosHumanos"===localStorage.getItem("RolId")?"#Cerrado":"#Cerrado#Gerente#".concat(localStorage.getItem("EmpleadoId")),d="RecursosHumanos"===localStorage.getItem("RolId")?[{field:"nombreCompleto",headerName:"Colaborador",width:320,editable:!1},{field:"diasHabiles",headerName:"D\xedas vencidos",width:120,align:"center",editable:!1,renderCell:function(e){return(0,T.jsx)(X.Z,{variant:"subtitle2",noWrap:!0,children:e.row.vacacionesDisponibles})}},{field:"periodo",headerName:"Per\xedodo vencido",width:150,editable:!1,renderCell:function(e){return Y(e.row.periodo)}},{field:"fechaVencimiento",headerName:"Fecha de vencimiento",width:180,editable:!1,renderCell:function(e){return G(e.row.fechaFinString)}},{field:"action",headerName:"Acciones",align:"center",width:125,sortable:!1,filterable:!1,disableColumnMenu:!0,renderCell:function(e){return function(e,r){var n=(0,i.useState)(!1),o=(0,a.Z)(n,2),t=o[0],l=o[1],d=(0,i.useState)(B.oG),s=(0,a.Z)(d,2),c=s[0],u=s[1],m=(0,i.useState)(""),h=(0,a.Z)(m,2),x=h[0],f=(h[1],function(){l(!0)}),b=function(){l(!1)},w=function(e){var r=c.filter((function(r){return r.id!==e}));u(r),l(!1)},g=function(){w(x),P(x)},C=(0,q.Ds)().enqueueSnackbar,P=function(){var n=(0,Z.Z)((0,j.Z)().mark((function n(a){var o;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{(o=new FormData).append("Id",e),o.append("statusPeriodo","#Disponible"),r(""),(0,H.A4)(o,p.s0,r,C),C("Listo, se abri\xf3 el per\xedodo")}catch(a){console.error(a)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,T.jsxs)("div",{children:[(0,T.jsxs)(v.Z,{onClick:function(){f()},sx:{color:"primary",p:1},children:[(0,T.jsx)(R.Z,{icon:"tabler:arrow-back-up-double"}),"Reabrir peri\xf3do"]}),(0,T.jsx)(z.Z,{open:t,onClose:b,title:"Reabrir",content:"\xbfDeseas reabrir el per\xedodo de vacaciones?",action:(0,T.jsx)(v.Z,{variant:"contained",color:"primary",onClick:g,children:"Reabrir"})})]})}(e.row.id,o)}}]:[{field:"nombreCompleto",headerName:"Colaborador",width:320,editable:!1},{field:"diasHabiles",headerName:"D\xedas vencidos",width:120,align:"center",editable:!1,renderCell:function(e){return(0,T.jsx)(X.Z,{variant:"subtitle2",noWrap:!0,children:e.row.vacacionesDisponibles})}},{field:"periodo",headerName:"Per\xedodo vencido",width:150,editable:!1,renderCell:function(e){return Y(e.row.periodo)}},{field:"fechaVencimiento",headerName:"Fecha de vencimiento",width:180,editable:!1,renderCell:function(e){return G(e.row.fechaFinString)}}];return(0,T.jsx)(t.Z,{children:(0,T.jsx)(m.Z,{children:(0,T.jsx)(h.Z,{sx:{marginTop:"0px",position:"relative",overflow:"unset"},style:{width:"100%"},children:(0,T.jsx)(f.Z,{EndPoint:p.kY,columns:d,genericParamAUX:l,refresh:n})})})})}function Y(e){var r="light"===(0,x.Z)().palette.mode;return(0,T.jsx)("div",{children:(0,T.jsx)(b.Z,{variant:r?"soft":"filled",color:"success",sx:{mx:"auto"},children:e})})}function G(e){var r="light"===(0,x.Z)().palette.mode;return(0,T.jsx)("div",{children:(0,T.jsx)(b.Z,{variant:r?"soft":"filled",color:"error",sx:{mx:"auto"},children:e})})}var L=n(75404),K=n(78462);function J(){var e=(0,i.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=r[1],t=[{field:"nombreCompleto",headerName:"Colaborador",width:300,editable:!1},{field:"nombreEmpresa",headerName:"Empresa",width:150,editable:!1},{field:"areaDepartamento",headerName:"Area y Departamento",width:200,editable:!1,disableExtendRowFullWidth:!0,renderCell:function(e){return function(e,r,n,a){var o,i="light"===(0,x.Z)().palette.mode;o=""!==n?(0,T.jsxs)("a",{children:[(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r}),(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"success",sx:{mx:"auto"},children:n})]}):(0,T.jsx)("a",{children:(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r})});return(0,T.jsx)(T.Fragment,{children:o})}(e.row.nombreEmpresa,e.row.nombreArea,"",e.row)}},{field:"puesto",headerName:"Puesto",width:180,editable:!1,renderCell:function(e){return(0,T.jsx)(X.Z,{variant:"body2",noWrap:!0,children:e.row.nombrePuesto})}},{field:"action",headerName:"Acciones",align:"center",width:170,sortable:!1,filterable:!1,disableColumnMenu:!0,renderCell:function(e){return(0,T.jsx)(K.Z,{NombreEmpleado:e.row.nombreCompleto,EmpleaodoId:e.row.id,params:e,esResponsable:!0,refreshFunc:o})}}],l="#".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate(),"#Bandeja");return(0,T.jsx)(m.Z,{children:(0,T.jsx)(h.Z,{sx:{marginTop:"0px",position:"relative",overflow:"unset"},style:{width:"100%"},children:(0,T.jsx)(f.Z,{EndPoint:p.k2,columns:t,refresh:n,genericParamAUX:l})})})}var O=n(79707),Q=n(22892),$=n(44666),ee=n(13811),re=n(87884),ne=(n(6694),n(97043));function ae(){var e=(0,i.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=(r[1],[{field:"tipoPeticion",width:120,headerName:"Tipo de petici\xf3n",editable:!1,renderCell:function(e){return(0,ne.Cs)(e.row.tipoPeticion)}},{field:"fechaCreacion",width:180,headerName:"Fecha de la solicitud",editable:!1},{field:"empleadoSolicitanteNombre",headerName:"Colaborador",width:300,editable:!1},{field:"nombreEmpresa",headerName:"Empresa",width:150,editable:!1},{field:"areaDepartamento",headerName:"Area y Departamento",width:200,editable:!1,disableExtendRowFullWidth:!0,renderCell:function(e){return function(e,r,n,a){var o,i="light"===(0,x.Z)().palette.mode;o=""!==n?(0,T.jsxs)("a",{children:[(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r}),(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"success",sx:{mx:"auto"},children:n})]}):(0,T.jsx)("a",{children:(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r})});return(0,T.jsx)(T.Fragment,{children:o})}(e.row.nombreEmpresa,e.row.nombreArea,"",e.row)}},{field:"puesto",headerName:"Puesto",width:180,editable:!1,renderCell:function(e){return(0,T.jsx)(X.Z,{variant:"body2",noWrap:!0,children:e.row.nombrePuesto})}}]),t="#".concat((new Date).getFullYear(),"-").concat((new Date).getMonth()+1,"-").concat((new Date).getDate(),"#Bandeja"),l=i.useState(!1),d=(0,a.Z)(l,2),s=d[0],c=d[1],u=function(){c(!1)};return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(v.Z,{variant:"contained",onClick:function(){c(!0)},sx:{position:"fixed",right:0,top:"20%",borderRadius:"5px 0 0 5px",zIndex:2},startIcon:(0,T.jsx)(R.Z,{icon:"material-symbols:list-alt-outline"}),children:"Historial"}),(0,T.jsxs)(w.Z,{fullScreen:!0,open:s,onClose:u,children:[(0,T.jsx)(Q.Z,{sx:{position:"relative"},children:(0,T.jsxs)($.Z,{children:[(0,T.jsx)(ee.Z,{edge:"start",color:"inherit",onClick:u,"aria-label":"close",children:(0,T.jsx)(re.Tw,{})}),(0,T.jsx)(X.Z,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:"Historial de peticiones especiales"})]})}),(0,T.jsx)(P.ZP,{sx:{padding:3},children:(0,T.jsx)(h.Z,{sx:{marginTop:"0px",position:"relative",overflow:"unset"},style:{width:"100%"},children:(0,T.jsx)(f.Z,{EndPoint:p.l1,columns:o,refresh:n,genericParamAUX:t})})})]})]})}function oe(){var e=(0,i.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=r[1],t=(0,i.useState)(""),l=(0,a.Z)(t,2),d=l[0],s=l[1],c=(0,i.useState)(""),u=(0,a.Z)(c,2),j=u[0],Z=u[1],w=(0,i.useState)(""),g=(0,a.Z)(w,2),C=g[0],P=g[1],N=(0,i.useState)(!1),S=(0,a.Z)(N,2),E=S[0],y=S[1],F=(0,i.useState)("mis mil comentarios"),D=(0,a.Z)(F,2),A=D[0];D[1];console.log("aqu\xed hay un comentario",A);var k=(0,i.useState)(""),I=(0,a.Z)(k,2),W=I[0],H=I[1],_=[{field:"estatus",headerName:"Estatus",width:120,editable:!1,renderCell:function(e){return(0,ne.W5)(e.row.estatus)}},{field:"fechaCreacion",headerName:"Fecha",width:120,editable:!1},{field:"action",headerName:"Acciones",width:150,sortable:!1,filterable:!1,disableColumnMenu:!0,renderCell:function(e){return(0,T.jsxs)(v.Z,{color:"secondary",onClick:function(r){return n=e.row.id,a=e.row.empleadoSolicitanteNombre,i=e.row.tipoPeticionEspecial,t=e.row.diasTotales,Z(i),o(a),s(n),P(t),void y(!0);var n,a,i,t},children:[(0,T.jsx)(R.Z,{icon:"ic:outline-remove-red-eye"}),"Ver solicitud"]})}},{field:"empleadoSolicitanteNombre",headerName:"Colaborador",width:300,editable:!1},{field:"nombreEmpresa",headerName:"Empresa",width:150,editable:!1},{field:"nombreArea",headerName:"Area y Departamento",width:200,editable:!1,disableExtendRowFullWidth:!0,renderCell:function(e){return function(e,r,n,a){var o,i="light"===(0,x.Z)().palette.mode;o=""!==n?(0,T.jsxs)("a",{children:[(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r}),(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"success",sx:{mx:"auto"},children:n})]}):(0,T.jsx)("a",{children:(0,T.jsx)(b.Z,{variant:i?"soft":"filled",color:"secondary",sx:{mx:"auto"},children:r})});return(0,T.jsx)(T.Fragment,{children:o})}(e.row.nombreEmpresa,e.row.nombreArea,"",e.row)}},{field:"nombrePuesto",headerName:"Puesto",width:180,editable:!1,renderCell:function(e){return(0,T.jsx)(X.Z,{variant:"body2",noWrap:!0,children:e.row.nombrePuesto})}}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ae,{}),(0,T.jsx)(m.Z,{children:(0,T.jsx)(h.Z,{sx:{marginTop:"0px",position:"relative",overflow:"unset"},style:{width:"100%"},children:(0,T.jsx)(f.Z,{EndPoint:p.l1,columns:_,refresh:W,genericParamAUX:"#Especiales"})})}),(0,T.jsx)(O.Z,{NombreEmpleado:n,SolicitudId:d,refreshFunc:H,abrirModal:E,metodoCerrar:function(){y(!1)},tipoPeticionEspecial:j,diasTotales:C})]})}function ie(){var e="RecursosHumanos"===localStorage.getItem("RolId")?[{value:"Proximo",label:"Pr\xf3ximos a vencer",component:(0,T.jsx)(L.Z,{})},{value:"Cerrados",label:"Cerrados",component:(0,T.jsx)(V,{})},{value:"Especiales",label:"D\xedas especiales",component:(0,T.jsx)(J,{})},{value:"PeticionesEspeciales",label:"Peticiones especiales",component:(0,T.jsx)(oe,{})}]:[{value:"Cerrados",label:"Cerrados",component:(0,T.jsx)(V,{})},{value:"Adelanto",label:"Adelanto",component:(0,T.jsx)(U,{})}],r=(0,i.useState)("RecursosHumanos"===localStorage.getItem("RolId")?"Proximo":"Cerrados"),n=(0,a.Z)(r,2),m=n[0],h=n[1];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(o.ql,{children:(0,T.jsx)("title",{children:" Periodos "})}),(0,T.jsx)(t.Z,{children:(0,T.jsx)(u.Z,{heading:(0,T.jsx)(T.Fragment,{children:"Periodos"}),links:[{name:"Dashboard",href:c.vB.root},{name:"Periodos"}]})}),(0,T.jsxs)(t.Z,{children:[(0,T.jsx)(l.Z,{value:m,onChange:function(e,r){return h(r)},children:e.map((function(e){return(0,T.jsx)(d.Z,{value:e.value,label:e.label},e.value)}))}),e.map((function(e){return e.value===m&&(0,T.jsx)(s.Z,{sx:{mt:5},children:e.component},e.value)}))]})]})}}}]);
//# sourceMappingURL=3849.eff4552a.chunk.js.map