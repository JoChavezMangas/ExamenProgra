"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[1007],{91007:function(e,n,s){s.r(n),s.d(n,{default:function(){return u}});var i=s(6907),r=s(20803),a=s(38072),t=s(79125),o=s(73379),l=s(54874),c=s(80184);function u(){var e=(0,t.K$)().themeStretch;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(i.ql,{children:(0,c.jsx)("title",{children:" Ecommerce: Create a new product | Minimal UI"})}),(0,c.jsxs)(r.Z,{maxWidth:!e&&"lg",children:[(0,c.jsx)(o.Z,{heading:"Create a new product",links:[{name:"Dashboard",href:a.vB.root},{name:"E-Commerce",href:a.vB.eCommerce.root},{name:"New product"}]}),(0,c.jsx)(l.Z,{})]})]})}},54874:function(e,n,s){s.d(n,{Z:function(){return P}});var i=s(93433),r=s(74165),a=s(15861),t=s(81724),o=s(72791),l=s(57689),c=s(61134),u=s(44695),d=s(39709),m=s(45953),p=s(48928),h=s(94162),x=s(4565),g=s(38254),v=s(96015),j=s(38072),f=s(23825),b=s(80362),Z=s(80184),S=[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Kids",value:"Kids"}],k=[{group:"Clothing",classify:["Shirts","T-shirts","Jeans","Leather"]},{group:"Tailored",classify:["Suits","Blazers","Trousers","Waistcoats"]},{group:"Accessories",classify:["Shoes","Backpacks and bags","Bracelets","Face masks"]}],y=["Toy Story 3","Logan","Full Metal Jacket","Dangal","The Sting","2001: A Space Odyssey","Singin' in the Rain","Toy Story","Bicycle Thieves","The Kid","Inglourious Basterds","Snatch","3 Idiots"];function P(e){var n=e.isEdit,s=e.currentProduct,P=(0,l.s0)(),C=(0,f.Ds)().enqueueSnackbar,I=t.Ry().shape({name:t.Z_().required("Name is required"),images:t.IX().min(1,"Images is required"),tags:t.IX().min(2,"Must have at least 2 tags"),price:t.Rx().moreThan(0,"Price should not be $0.00"),description:t.Z_().required("Description is required")}),T=(0,o.useMemo)((function(){return{name:(null===s||void 0===s?void 0:s.name)||"",description:(null===s||void 0===s?void 0:s.description)||"",images:(null===s||void 0===s?void 0:s.images)||[],code:(null===s||void 0===s?void 0:s.code)||"",sku:(null===s||void 0===s?void 0:s.sku)||"",price:(null===s||void 0===s?void 0:s.price)||0,priceSale:(null===s||void 0===s?void 0:s.priceSale)||0,tags:(null===s||void 0===s?void 0:s.tags)||[y[0]],inStock:!0,taxes:!0,gender:(null===s||void 0===s?void 0:s.gender)||S[2].value,category:(null===s||void 0===s?void 0:s.category)||k[0].classify[1]}}),[s]),_=(0,c.cI)({resolver:(0,u.X)(I),defaultValues:T}),w=_.reset,A=_.watch,B=_.setValue,D=_.handleSubmit,L=_.formState.isSubmitting,R=A();(0,o.useEffect)((function(){n&&s&&w(T),n||w(T)}),[n,s]);var q=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(s){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:w(),C(n?"Update success!":"Create success!"),P(j.vB.eCommerce.list),console.log("DATA",s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),M=(0,o.useCallback)((function(e){var n=R.images||[],s=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));B("images",[].concat((0,i.Z)(n),(0,i.Z)(s)),{shouldValidate:!0})}),[B,R.images]);return(0,Z.jsx)(b.ZP,{methods:_,onSubmit:D(q),children:(0,Z.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(m.ZP,{item:!0,xs:12,md:8,children:(0,Z.jsx)(p.Z,{sx:{p:3},children:(0,Z.jsxs)(h.Z,{spacing:3,children:[(0,Z.jsx)(b.au,{name:"name",label:"Product Name"}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(x.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Description"}),(0,Z.jsx)(b.LM,{simple:!0,name:"description"})]}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(x.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Images"}),(0,Z.jsx)(b.rd,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:M,onRemove:function(e){var n,s=R.images&&(null===(n=R.images)||void 0===n?void 0:n.filter((function(n){return n!==e})));B("images",s)},onRemoveAll:function(){B("images",[])},onUpload:function(){return console.log("ON UPLOAD")}})]})]})})}),(0,Z.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,Z.jsxs)(h.Z,{spacing:3,children:[(0,Z.jsxs)(p.Z,{sx:{p:3},children:[(0,Z.jsx)(b._e,{name:"inStock",label:"In stock"}),(0,Z.jsxs)(h.Z,{spacing:3,mt:2,children:[(0,Z.jsx)(b.au,{name:"code",label:"Product Code"}),(0,Z.jsx)(b.au,{name:"sku",label:"Product SKU"}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(x.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Gender"}),(0,Z.jsx)(b.km,{row:!0,spacing:4,name:"gender",options:S})]}),(0,Z.jsxs)(b.Cc,{native:!0,name:"category",label:"Category",children:[(0,Z.jsx)("option",{value:""}),k.map((function(e){return(0,Z.jsx)("optgroup",{label:e.group,children:e.classify.map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))},e.group)}))]}),(0,Z.jsx)(b.Fl,{name:"tags",label:"Tags",multiple:!0,freeSolo:!0,options:y.map((function(e){return e})),ChipProps:{size:"small"}})]})]}),(0,Z.jsxs)(p.Z,{sx:{p:3},children:[(0,Z.jsxs)(h.Z,{spacing:3,mb:2,children:[(0,Z.jsx)(b.au,{name:"price",label:"Regular Price",placeholder:"0.00",onChange:function(e){return B("price",Number(e.target.value),{shouldValidate:!0})},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,Z.jsx)(g.Z,{position:"start",children:(0,Z.jsx)(v.Z,{component:"span",sx:{color:"text.disabled"},children:"$"})}),type:"number"}}),(0,Z.jsx)(b.au,{name:"priceSale",label:"Sale Price",placeholder:"0.00",onChange:function(e){return B("priceSale",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,Z.jsx)(g.Z,{position:"start",children:(0,Z.jsx)(v.Z,{component:"span",sx:{color:"text.disabled"},children:"$"})}),type:"number"}})]}),(0,Z.jsx)(b._e,{name:"taxes",label:"Price includes taxes"})]}),(0,Z.jsx)(d.Z,{type:"submit",variant:"contained",size:"large",loading:L,children:n?"Save Changes":"Create Product"})]})})]})})}}}]);
//# sourceMappingURL=1007.924dc70e.chunk.js.map