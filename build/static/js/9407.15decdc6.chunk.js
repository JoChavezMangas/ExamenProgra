"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[9407],{99407:function(e,n,i){i.r(n),i.d(n,{default:function(){return g}});var r=i(6907),t=i(72791),s=i(31282),a=i(57689),o=i(20803),c=i(20647),l=i(18829),u=i(38072),d=i(73379),m=i(79125),p=i(54874),h=i(80184);function g(){var e=(0,m.K$)().themeStretch,n=(0,c.I0)(),i=(0,a.UO)().name;console.log(i);var g=(0,c.v9)((function(e){return e.product.products.find((function(e){return(0,s.o)(e.name)===i}))}));return(0,t.useEffect)((function(){n((0,l.Xp)())}),[n]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.ql,{children:(0,h.jsx)("title",{children:" Ecommerce: Edit product | Minimal UI"})}),(0,h.jsxs)(o.Z,{maxWidth:!e&&"lg",children:[(0,h.jsx)(d.Z,{heading:"Edit product",links:[{name:"Dashboard",href:u.vB.root},{name:"E-Commerce",href:u.vB.eCommerce.root},{name:null===g||void 0===g?void 0:g.name}]}),(0,h.jsx)(p.Z,{isEdit:!0,currentProduct:g})]})]})}},54874:function(e,n,i){i.d(n,{Z:function(){return P}});var r=i(93433),t=i(74165),s=i(15861),a=i(81724),o=i(72791),c=i(57689),l=i(61134),u=i(44695),d=i(39709),m=i(45953),p=i(48928),h=i(94162),g=i(4565),v=i(38254),x=i(96015),f=i(38072),j=i(23825),b=i(80362),Z=i(80184),S=[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Kids",value:"Kids"}],k=[{group:"Clothing",classify:["Shirts","T-shirts","Jeans","Leather"]},{group:"Tailored",classify:["Suits","Blazers","Trousers","Waistcoats"]},{group:"Accessories",classify:["Shoes","Backpacks and bags","Bracelets","Face masks"]}],y=["Toy Story 3","Logan","Full Metal Jacket","Dangal","The Sting","2001: A Space Odyssey","Singin' in the Rain","Toy Story","Bicycle Thieves","The Kid","Inglourious Basterds","Snatch","3 Idiots"];function P(e){var n=e.isEdit,i=e.currentProduct,P=(0,c.s0)(),C=(0,j.Ds)().enqueueSnackbar,A=a.Ry().shape({name:a.Z_().required("Name is required"),images:a.IX().min(1,"Images is required"),tags:a.IX().min(2,"Must have at least 2 tags"),price:a.Rx().moreThan(0,"Price should not be $0.00"),description:a.Z_().required("Description is required")}),I=(0,o.useMemo)((function(){return{name:(null===i||void 0===i?void 0:i.name)||"",description:(null===i||void 0===i?void 0:i.description)||"",images:(null===i||void 0===i?void 0:i.images)||[],code:(null===i||void 0===i?void 0:i.code)||"",sku:(null===i||void 0===i?void 0:i.sku)||"",price:(null===i||void 0===i?void 0:i.price)||0,priceSale:(null===i||void 0===i?void 0:i.priceSale)||0,tags:(null===i||void 0===i?void 0:i.tags)||[y[0]],inStock:!0,taxes:!0,gender:(null===i||void 0===i?void 0:i.gender)||S[2].value,category:(null===i||void 0===i?void 0:i.category)||k[0].classify[1]}}),[i]),T=(0,l.cI)({resolver:(0,u.X)(A),defaultValues:I}),_=T.reset,R=T.watch,B=T.setValue,w=T.handleSubmit,E=T.formState.isSubmitting,L=R();(0,o.useEffect)((function(){n&&i&&_(I),n||_(I)}),[n,i]);var D=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(i){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:_(),C(n?"Update success!":"Create success!"),P(f.vB.eCommerce.list),console.log("DATA",i),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),U=(0,o.useCallback)((function(e){var n=L.images||[],i=e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}));B("images",[].concat((0,r.Z)(n),(0,r.Z)(i)),{shouldValidate:!0})}),[B,L.images]);return(0,Z.jsx)(b.ZP,{methods:T,onSubmit:w(D),children:(0,Z.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(m.ZP,{item:!0,xs:12,md:8,children:(0,Z.jsx)(p.Z,{sx:{p:3},children:(0,Z.jsxs)(h.Z,{spacing:3,children:[(0,Z.jsx)(b.au,{name:"name",label:"Product Name"}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Description"}),(0,Z.jsx)(b.LM,{simple:!0,name:"description"})]}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Images"}),(0,Z.jsx)(b.rd,{multiple:!0,thumbnail:!0,name:"images",maxSize:3145728,onDrop:U,onRemove:function(e){var n,i=L.images&&(null===(n=L.images)||void 0===n?void 0:n.filter((function(n){return n!==e})));B("images",i)},onRemoveAll:function(){B("images",[])},onUpload:function(){return console.log("ON UPLOAD")}})]})]})})}),(0,Z.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,Z.jsxs)(h.Z,{spacing:3,children:[(0,Z.jsxs)(p.Z,{sx:{p:3},children:[(0,Z.jsx)(b._e,{name:"inStock",label:"In stock"}),(0,Z.jsxs)(h.Z,{spacing:3,mt:2,children:[(0,Z.jsx)(b.au,{name:"code",label:"Product Code"}),(0,Z.jsx)(b.au,{name:"sku",label:"Product SKU"}),(0,Z.jsxs)(h.Z,{spacing:1,children:[(0,Z.jsx)(g.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"Gender"}),(0,Z.jsx)(b.km,{row:!0,spacing:4,name:"gender",options:S})]}),(0,Z.jsxs)(b.Cc,{native:!0,name:"category",label:"Category",children:[(0,Z.jsx)("option",{value:""}),k.map((function(e){return(0,Z.jsx)("optgroup",{label:e.group,children:e.classify.map((function(e){return(0,Z.jsx)("option",{value:e,children:e},e)}))},e.group)}))]}),(0,Z.jsx)(b.Fl,{name:"tags",label:"Tags",multiple:!0,freeSolo:!0,options:y.map((function(e){return e})),ChipProps:{size:"small"}})]})]}),(0,Z.jsxs)(p.Z,{sx:{p:3},children:[(0,Z.jsxs)(h.Z,{spacing:3,mb:2,children:[(0,Z.jsx)(b.au,{name:"price",label:"Regular Price",placeholder:"0.00",onChange:function(e){return B("price",Number(e.target.value),{shouldValidate:!0})},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,Z.jsx)(v.Z,{position:"start",children:(0,Z.jsx)(x.Z,{component:"span",sx:{color:"text.disabled"},children:"$"})}),type:"number"}}),(0,Z.jsx)(b.au,{name:"priceSale",label:"Sale Price",placeholder:"0.00",onChange:function(e){return B("priceSale",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,Z.jsx)(v.Z,{position:"start",children:(0,Z.jsx)(x.Z,{component:"span",sx:{color:"text.disabled"},children:"$"})}),type:"number"}})]}),(0,Z.jsx)(b._e,{name:"taxes",label:"Price includes taxes"})]}),(0,Z.jsx)(d.Z,{type:"submit",variant:"contained",size:"large",loading:E,children:n?"Save Changes":"Create Product"})]})})]})})}},35265:function(e,n,i){i.d(n,{$:function(){return s}});var r=i(3431),t=i(17254);function s(e,n){return void 0===n&&(n={}),(0,t.B)(e,(0,r.pi)({delimiter:"."},n))}},17254:function(e,n,i){i.d(n,{B:function(){return a}});function r(e){return e.toLowerCase()}var t=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function a(e,n){void 0===n&&(n={});for(var i=n.splitRegexp,a=void 0===i?t:i,c=n.stripRegexp,l=void 0===c?s:c,u=n.transform,d=void 0===u?r:u,m=n.delimiter,p=void 0===m?" ":m,h=o(o(e,a,"$1\0$2"),l,"\0"),g=0,v=h.length;"\0"===h.charAt(g);)g++;for(;"\0"===h.charAt(v-1);)v--;return h.slice(g,v).split("\0").map(d).join(p)}function o(e,n,i){return n instanceof RegExp?e.replace(n,i):n.reduce((function(e,n){return e.replace(n,i)}),e)}},31282:function(e,n,i){i.d(n,{o:function(){return s}});var r=i(3431),t=i(35265);function s(e,n){return void 0===n&&(n={}),(0,t.$)(e,(0,r.pi)({delimiter:"-"},n))}}}]);
//# sourceMappingURL=9407.15decdc6.chunk.js.map